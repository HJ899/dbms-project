<%- include('./partials/head.ejs')%>
<link rel="stylesheet" href="/css/main.css">
</head>
<body>
    <%- include('./partials/nav.ejs') %>
    <main>
        <div class="container mx-auto my-5 justify-content-center regForm">
            <h1 class="headerText">Sign Up</h1>
            <form action="/register" method="POST">
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label for="firstName">First Name</label>
                        <input required type="text" class="form-control" name="firstName" placeholder="First Name" id='inp_1'>
                    </div>
                    <div class="form-group col-md-6">
                        <label for="lastName">Last Name</label>
                        <input required type="text" class="form-control" name="lastName" placeholder="Last Name" id='inp_2'>
                    </div>
                </div>
                <div class="form-group">
                    <label for="email">Email</label>
                    <input required type="email" class="form-control" name="email" placeholder="johndoe@abc.com" id='inp_3'>
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input required type="password" class="form-control" name="password" placeholder="password" id='inp_4'>
                </div>
                <div class="form-group">
                    <label for="passwordConf">Confirm Password</label>
                    <input required type="password" class="form-control" name="passwordConf" placeholder="password" id='inp_5'>
                </div>
                <div class="form-group">
                    <label for="contact">Contact No.</label>
                    <input required type="tel" class="form-control" name="contact" placeholder="1234567890" pattern='[0-9]{10}' oninvalid="this.setCustomValidity('Enter a valid 10 digit phone number')" oninput="this.setCustomValidity('')" id='inp_6'>
                </div>
                
                <div class="form-group">
                    <label>Role</label>
                    <div class="dropdown">
                        <button class="btn btn-outline-dark dropdown-toggle w-100" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <%= role ? (role == 'admin' ? 'Admin' : role == 'employee' ? 'Employee' : 'User' ) : "Select Role"%>
                        </button>
                        <div class="dropdown-menu w-100 justify-content-center" aria-labelledby="dropdownMenuButton">
                            <a class="dropdown-item" href="/register/user">User</a>
                            <a class="dropdown-item" href="/register/employee">Employee</a>
                            <a class="dropdown-item" href="/register/admin">Admin</a>
                        </div>
                    </div>
                </div>
                <%if(role == 'admin'){%>
                    <div class="form-group">
                        <label for="adminKey">Admin Key</label>
                        <input required type="text" class="form-control" name="adminKey" placeholder="admin key">
                    </div>
                <%} else if(role == 'employee') {%>
                    <div class="form-group">
                        <label for="empNo">Employee ID</label>
                        <input required type="text" class="form-control" name="empNo" placeholder="abcjd-1e832">
                    </div>
                <%}%>
                <hr>
                <div class="form-group">
                    <button type="submit" class="btn btn-outline-primary w-75 btnSubmit">Register</button>
                </div>
                <input type="hidden" name="role" value="<%=role%>">
            </form>
        </div>
    </main>
    <script src='/js/dropdown.js' type='text/javascript'></script>
<%- include('./partials/end.ejs') %>